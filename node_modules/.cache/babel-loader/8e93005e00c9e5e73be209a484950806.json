{"ast":null,"code":"const express = require(\"express\");\n\nconst app = express();\n\nconst mongoose = require(\"mongoose\");\n\nconst Post = require(\"./models/post\");\n\nvar postData = []; //connect to mongoose\n\nmongoose.connect(\"mongodb+srv://admin:dugman11@cluster0.ztijp.mongodb.net/posts?retryWrites=true&w=majority\", {\n  useUnifiedTopology: true,\n  useNewUrlParser: true\n}, (req, res) => {\n  console.log(\"Connected to database\");\n});\napp.get('/api', (req, res) => {\n  Post.find().lean().then(result => {\n    res.json(result);\n    postData.push(result);\n    console.log(postData);\n  }).catch(err => {\n    console.log(err);\n  });\n});\nconst port = process.env.PORT || 3001;\napp.listen(port, function () {\n  console.log(\"express server is running on port \" + port);\n});\nexports.postData = postData;","map":{"version":3,"sources":["C:/Users/luked/OneDrive/Desktop/insta-clone-full-stack/insta-clone/src/insta-clone-node/server.js"],"names":["express","require","app","mongoose","Post","postData","connect","useUnifiedTopology","useNewUrlParser","req","res","console","log","get","find","lean","then","result","json","push","catch","err","port","process","env","PORT","listen","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGF,OAAO,EAAnB;;AACA,MAAMG,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,eAAD,CAApB;;AAEA,IAAII,QAAQ,GAAG,EAAf,C,CAEA;;AACAF,QAAQ,CAACG,OAAT,CACI,2FADJ,EAEI;AAAEC,EAAAA,kBAAkB,EAAE,IAAtB;AAA4BC,EAAAA,eAAe,EAAE;AAA7C,CAFJ,EAGI,CAACC,GAAD,EAAMC,GAAN,KAAc;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH,CALL;AAQAV,GAAG,CAACW,GAAJ,CAAQ,MAAR,EAAgB,CAACJ,GAAD,EAAMC,GAAN,KAAc;AAC1BN,EAAAA,IAAI,CAACU,IAAL,GAAYC,IAAZ,GACCC,IADD,CACOC,MAAD,IAAY;AACdP,IAAAA,GAAG,CAACQ,IAAJ,CAASD,MAAT;AACAZ,IAAAA,QAAQ,CAACc,IAAT,CAAcF,MAAd;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACH,GALD,EAMCe,KAND,CAMQC,GAAD,IAAQ;AACXV,IAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACH,GARD;AASH,CAVD;AAYA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAvB,GAAG,CAACwB,MAAJ,CAAWJ,IAAX,EAAiB,YAAW;AACxBX,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCU,IAAnD;AACH,CAFD;AAIAK,OAAO,CAACtB,QAAR,GAAmBA,QAAnB","sourcesContent":["const express = require(\"express\")\r\nconst app = express()\r\nconst mongoose = require(\"mongoose\")\r\nconst Post = require(\"./models/post\")\r\n\r\nvar postData = []\r\n\r\n//connect to mongoose\r\nmongoose.connect(\r\n    \"mongodb+srv://admin:dugman11@cluster0.ztijp.mongodb.net/posts?retryWrites=true&w=majority\",\r\n    { useUnifiedTopology: true, useNewUrlParser: true},\r\n    (req, res) => {\r\n        console.log(\"Connected to database\")\r\n    })\r\n\r\n\r\napp.get('/api', (req, res) => {\r\n    Post.find().lean()\r\n    .then((result) => {\r\n        res.json(result)\r\n        postData.push(result)\r\n        console.log(postData)\r\n    })\r\n    .catch((err)=> {\r\n        console.log(err)\r\n    })\r\n})\r\n\r\nconst port = process.env.PORT || 3001\r\napp.listen(port, function() {\r\n    console.log(\"express server is running on port \" + port)\r\n})\r\n\r\nexports.postData = postData"]},"metadata":{},"sourceType":"module"}